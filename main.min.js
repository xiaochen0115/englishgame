$(document).ready(function(){var timeIndex=0;setTime();times=setInterval(setTime,1e3);var id=getUrlParam("id");console.log(id);var currentWords=words[id];var currentTotalNumber=currentWords.length;var currentWordNumber=1;$("#current").text(currentWordNumber);$("#total").text(currentTotalNumber);var randomWords=getArrayItems(currentWords);console.log(randomWords);var currentWord=randomWords[currentWordNumber-1];var currentLength=currentWord.length;var score=0;var vowel="aeiou";var errorTimes=0;var ERRORLIMIT=10;var hitNumber=0;setGuessLetter();$(".letter").click(function(e){guess(e)});function updateWord(){if(currentWordNumber<currentTotalNumber){currentWordNumber++;currentWord=randomWords[currentWordNumber-1];currentLength=currentWord.length;hitNumber=0}else{var newPage="result.html?success=1&time="+$(".timeValue").text()+"&score="+score+"&id="+id;location.href=newPage}}function setTime(){var hour=parseInt(timeIndex/3600);var minutes=parseInt(timeIndex%3600/60);var seconds=parseInt(timeIndex%60);hour=hour<10?"0"+hour:hour;minutes=minutes<10?"0"+minutes:minutes;seconds=seconds<10?"0"+seconds:seconds;$(".timeValue").text(hour+":"+minutes+":"+seconds);timeIndex++}function getArrayItems(arr){var temp_array=new Array;for(var index in arr){temp_array.push(arr[index])}var return_array=new Array;for(var i=0;i<arr.length;i++){var arrIndex=Math.floor(Math.random()*temp_array.length);return_array[i]=temp_array[arrIndex];temp_array.splice(arrIndex,1)}return return_array}function setGuessLetter(){var wordHtml="";for(var i=0;i<currentLength;i++){if(currentWord[i]!=" "){wordHtml+='<img class="imageLetter" '+'id="'+i.toString()+'"'+' src="images/word.png">'}else{wordHtml+='<img class="blankLetter" '+'id="'+i.toString()+'"'+' src="images/blankLetter.png">'}}$(".wordGuess").html(wordHtml)}function resetLetters(){$(".vowel").children(".letter").each(function(){$(this).attr("src","images/letter"+$(this).attr("id").toUpperCase()+".png")});$(".consonant").find(".letter").each(function(){$(this).attr("src","images/letter"+$(this).attr("id").toUpperCase()+".png")})}function setWordPic(){var wordPicHtml='<img class="wordPic" src="images/banana.png">';$(".hangman").html(wordPicHtml)}function setFailedLetter(){$(".wordGuess").children().each(function(index,domEle){var src=$(domEle).attr("src");if(src.indexOf("word.png")>=0){$(domEle).attr("src","images/redguess"+currentWord[index].toUpperCase()+".png")}});$(".leftPanel").hide();$(".rightPanel").hide()}function guess(e){if(hitNumber!=currentLength&&errorTimes<ERRORLIMIT){var letterClicked=$(e.target).attr("id");$(e.target).attr("src","images/blankLetter.png");var hitIndex=currentWord.indexOf(letterClicked);console.log("hitIndex: "+hitIndex);if(hitIndex<0){score-=10;$(".scoreValue").text(score);console.log(letterClicked);console.log(vowel);console.log(vowel.indexOf(letterClicked));if(vowel.indexOf(letterClicked)<0){errorTimes++;var hangmanHtml='<img class="hangmanPic" src="images/hangman'+errorTimes.toString()+'.png">';console.log(hangmanHtml);$(".hangman").html(hangmanHtml);if(errorTimes==ERRORLIMIT){var newPage="result.html?success=0&time="+$(".timeValue").text()+"&score="+score+"&id="+id;setFailedLetter();setTimeout(function(){location.href=newPage},3e3)}}}else{while(hitIndex>=0){hitNumber++;$("#"+hitIndex.toString()).attr("src","images/guess"+letterClicked.toUpperCase()+".png");score+=50;$(".scoreValue").text(score);hitIndex=currentWord.indexOf(letterClicked,hitIndex+1);if(hitNumber==currentLength){setWordPic();setTimeout(function(){$(".hangman").html("");updateWord();resetLetters();setGuessLetter()},3e3)}}}}}});